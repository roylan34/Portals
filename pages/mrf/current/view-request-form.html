
   <!-- Modal -->
  <div class="modal fade" id="modalFormCurrentViewMrf" data-backdrop="static" data-keyboard="true" tabindex="-1" role="dialog" aria-labelledby="modalFormCurrentViewMrf">
    <div class="modal-dialog" role="document" style="width:auto; max-width: 800px">
    
      <!-- Modal content-->
      <div class="modal-content">

        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">View Request Form</h4>
        </div>

        <div class="modal-body">

        <div class="nav-tabs-custom">
          <ul class="nav nav-tabs" id="tabs-form">
            <li class="active"><a href="#tab-form-request" data-toggle="tab" id="index-tab-form-approve"><i class="fa fa-info-circle"></i> <span>Details</span></a></li>
            <li><a href="#tab-form-approve" data-toggle="tab"><i class="fa fa-thumbs-up"></i> <span>Approve</span></a></li>
            <li><a href="#tab-history" data-toggle="tab"><i class="fa fa-history"></i> <span>History</span></a></li>
          </ul>
        </div>

          <div class="tab-content">

            <div role="tabpanel" class="tab-pane fade in active" id="tab-form-request">

                  <div class="col-md-12 view-form-section">
                    <div id="requestedBy" style="display: inline-block; line-height: 2">Requested By: <span style="font-weight: 700;"></span></div>                 
                    <div class="pull-right form-no" style="border:#000 1px solid; padding: 3px"><strong>FORM NO: </strong><span id="form-code"></span></div>
                  </div>
                              
                    <div class="col-md-12 view-form-section view-step-1">
                      <!-- <h4>Step 1</h4> -->
                        <p class="col-sm-12 col-xs-12"><strong>Place indicate the machines for delivery:</strong></p>
                        <div class="mrf-table-responsive-non-border">
                           <table id="tbl_view_frm_component_1" class="table tbl_view_frm_component_1_style">
                              <thead>
                                <tr>
                                  <th></th>
                                  <th>Quantity</th>
                                  <th>Brand</th>
                                  <th>Model</th> 
                                  <th>BN/RF</th>                                 
                                  <th>Remarks</th>
                                  <!-- <th>S/N</th>
                                  <th>Toner</th> 
                                  <th></th>-->
                                </tr>
                              </thead>
                              <tbody>
                                <tr class="view-loader">
                                  <td colspan="8"><div class="text-center"><i class="fa fa-refresh fa-spin" style="font-size:24px"></i><span class="sr-only">Please wait - loading...</span></div></td>
                                </tr>
                              </tbody>
                           </table>
                      </div>
                    </div>

              <div class="col-md-12 view-form-section view-step-2">
                <!-- <h4>Step 2</h4> -->
                    <div class="form-group"> 
                        <p class="col-sm-12"><strong>Place indicate the details below of machines for upgrade/replacement:</strong></p>

                          <div class="form-group col-sm-12">                    
                              <div class="col-md-2">  
                                  <label class="radio-inline">
                                    <input type="radio" id="radioBtn-1" value="1" name="radioBtn-group-c2" class="radioBtn-group-c2 custom-disabled " disabled="disabled" >Additional unit
                                  </label>   
                              </div> 

                              <div class="col-md-2" style="display:none">
                                  <label class="radio-inline">
                                    <input type="radio" id="radioBtn-2"  value="2" name="radioBtn-group-c2" class="radioBtn-group-c2">Upgrade/Replaced unit
                                  </label>      
                              </div> 

                              <div class="col-md-2">
                                  <label class="radio-inline">
                                    <input type="radio" id="radioBtn-upgrade"  value="5" name="radioBtn-group-c2" class="radioBtn-group-c2" disabled="disabled">Upgrade unit
                                  </label>      
                              </div> 

                              <div class="col-md-2">
                                  <label class="radio-inline">
                                    <input type="radio" id="radioBtn-replace"  value="6" name="radioBtn-group-c2" class="radioBtn-group-c2" disabled="disabled">Replace unit
                                  </label>      
                              </div> 

                               <div class="col-md-3">
                                  <label class="radio-inline">
                                    <input type="radio" id="radioBtn-3" name="radioBtn-group-c2" class="radioBtn-group-c2" for="txtDemoRental" value="3" disabled="disabled">Demo / Rental: 
                                     <em id="no_of_days" style="text-decoration: underline;"></em> <span># of days</span> 
                                  </label>                                 
                               </div> 


                               <div class="col-md-3">
                                  <label class="radio-inline">
                                    <input type="radio" id="radioBtn-4" name="radioBtn-group-c2" class="radioBtn-group-c2" value="4" disabled="disabled">Others:
                                     <em id="view_others" style="text-decoration: underline;"></em> <span></span> 
                                  </label>                                 
                              </div> 

                          </div>


                          <div class="col-sm-12">
                            <div class="mrf-table-responsive">  
                              <table id="tbl_view_frm_component_2" class="table"> 
                                  <thead>  
                                    <tr> 
                                      <th> Brand </th>
                                      <th> Model </th>
                                      <th> Serial Number </th>
                                      <th> Contact Person </th>
                                      <th> Department/Branch </th>
                                    </tr>
                                  </thead>
                                  <tbody > 
                                    <tr class="view-loader">
                                      <td colspan="5"><div class="text-center"><i class="fa fa-refresh fa-spin" style="font-size:24px"></i><span class="sr-only">Please wait - loading...</span></div></td>
                                    </tr>
                                  </tbody>
                              </table>
                            </div>
                        </div>


                    </div>

              </div>

                <div class="col-md-12 view-form-section view-step-3">
                  <!-- <h4>Step 3</h4> -->
                        <div class="col-md-12">     
                            <p><strong>Place a tick on the appropriate box:</strong></p>

                            <div class="col-md-4">   
                                <label class="radio-inline">
                                  <input type="radio" id="radioBtn-5"  value="1" name="radioBtn-group-c3" class="radioBtn-group-c3" disabled="disabled">Technician will install
                                </label>   
                            </div> 

                            <div class="col-md-4">    
                                <label class="radio-inline">
                                  <input type="radio" id="radioBtn-6"  value="2" name="radioBtn-group-c3" class="radioBtn-group-c3" disabled="disabled">Client IT will install
                                </label>   
                            </div> 

                            <div class="col-md-4">
                                <label class="radio-inline">
                                  <input type="radio" id="radioBtn-7"  value="3" name="radioBtn-group-c3" class="radioBtn-group-c3" disabled="disabled">Technician with client IT
                                </label>     
                            </div> 
                        
                      </div> 

                </div>

                <div class="col-md-12 view-form-section view-step-4">
                  <!-- <h4>Step 4</h4> -->
                    <div class="mrf-table-responsive">
                         <div class="col-md-6">
                          <div class="form-group">     
                            <label class="col-sm-5" for="dateRequest" >Date Requested:</label>
                            <div class="col-md-offset-1 col-sm-6">
                              <span id="dateRequest"></span>
                            </div>
                          </div> 
                        </div>

                        <div class="col-md-12">
                          <div class="form-group">     
                            <label class="col-sm-3" for="txtCompany">Company Name:</label>
                            <div class="col-sm-9">
                              <span id="txtCompany"></span>
                            </div>
                          </div> 
                        </div>

                        <div class="col-md-12">
                          <div class="form-group">     
                            <label class=" col-sm-3" for="txtShipTo">Ship to address:</label>
                             <div class="col-sm-9">
                                <span id="txtShipTo"></span>
                             </div>
                          </div> 
                        </div>

                          <div class="col-md-12">
                              <div class="form-group">    
                                  <label class="col-sm-3" for="txtBillTo">Bill to address:</label>
                                  <div class="col-sm-9"> 
                                    <span id="txtBillTo"></span>            
                                  </div>
                              </div> 
                          </div>   

                        <div class="col-md-12">
                            <div class="form-group">
                              <div class="col-md-5">     
                                <label  for="txtContactPerson">Contact Person:</label>
                                  <span id="txtContactPerson"></span>
                              </div> 

                              <div class="col-md-4">     
                                <label for="txtDepartment">Department:</label>
                                <span id="txtDepartment"></span>
                              </div> 

                              <div class="col-md-3">     
                                <label for="txtTelNo">Tel No:</label>
                                <span id="txtTelNo"></span>
                              </div> 
                            </div>
                        </div>

                            <div class="col-md-6 attachment-form" style="margin-top: 10px;">
                              <div class="box box-success box-solid">
                                  <div class="box-header">
                                      <p class="box-title" style="font-size: 13px">Attachment</p>
                                      <div class="box-tools pull-right">
                                          <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                                          </button>
                                      </div>
                                  </div>
                                  <div class="box-body">
                                      <form id="frmViewAttachment" enctype="multipart/form-data" class="form-horizontal">
                                        <div class="col-sm-12 attachment-upload-container" style="padding: 5px;">
                                           <input type="file" name="attachment-view[]" id="attachment-view" onChange="fileUpload.validateAttach(this,true)" multiple="multiple">
                                           <label for="attachment-view" id="attachment-view-trigger">Choose Files</label>
                                           <button type="submit" class="" id="btn_save_view_mrf">Upload</button>
                                        </div> 
                                         <div class="col-sm-12 pre-list-attachment"></div>
                                         <div class="col-sm-12 post-list-attachment"></div>
                                         <div class="col-sm-6 attachment-download-container">
                                            <input type="hidden" name="hdnAttachmentName" class="hdnAttachmentName">
        <!--                                     <button type="button" class="btn btn-xs btn-flat btn-success btn-xs btn-download-attachment" data-toggle="modal" data-target="#modalAttachment">Download Attachment</button>                                 
         -->                                </div>
                                      </form>
                                  </div>
                              </div>

                          </div>                                                            
                      </div>   
                    </div>
            </div>

             <div role="tabpanel" class="tab-pane fade" id="tab-form-approve">
                <form id="frmCurrentViewMrf" class="form-horizontal">
                  <input type="hidden" name="hdnIdCurrentViewMrf" id="hdnIdCurrentViewMrf">
                  <input type="hidden" name="hdnIdBranchCurrentViewMrf" id="hdnIdBranchCurrentViewMrf">
                  <input type="hidden" name="hdnIdRequestor" id="hdnIdRequestor">
                     <div id="container_approver">
                       <table id="tbl_approver_1_2" class="table tbl_approver_header_bg">
                        <thead>
                           <tr>
                             <th colspan="2">Executive</th>
                           </tr>
                           <tr>
                             <th>1st Approver</th>
                             <th>2nd Approver</th>
                           </tr>
                         </thead>
                         <tbody>
                           <tr>
                             <td>
                               <p><label>Name:</label>  <span id="1st_approve_name"></span></p>
                               <p><label>Date approved:</label>  <span id="1st_approve_date"></span></p>
                             </td>
                             <td>
                               <p><label>Name:</label>  <span id="2nd_approve_name"></span></p>
                               <p><label>Date approved:</label>  <span id="2nd_approve_date"></span></p>
                             </td>
                           </tr>
                         </tbody>
                         <tfoot class="tfoot_1st_approver tfoot_2nd_approver tfoot_2nd_approver_2">
                           <tr>
                             <td> 
                                <div class="text-center"><!--Approver 1 -->
                                    <button type="button" onClick="dtCurrentMrf.update_status(this)" name="1st_approver" data-id-status="3" class="btn btn-warning btn-xs btn-flat"  id="btn_disapprove_1">Disapprove</button>
                                    <button type="button" onClick="dtCurrentMrf.update_status(this)" name="1st_approver" data-id-status="2" class="btn btn-success btn-xs btn-flat" id="btn_approve_1">Approve</button>
                                </div>
                              </td>
                              <td> 
                                <div class="text-center"><!--Approver 2.1 -->
                                    <button type="button" onClick="dtCurrentMrf.update_status(this)" name="2nd_approver" data-id-status="3" class="btn btn-warning btn-xs btn-flat">Disapprove</button>
                                    <button type="button" onClick="dtCurrentMrf.update_status(this)" name="2nd_approver" data-id-status="2" class="btn btn-success btn-xs btn-flat" >Approve</button>
                                </div>
                                <div class="text-center"><!--Approver 2.2 -->
                                    <button type="button" onClick="dtCurrentMrf.update_status(this)" name="2nd_approver_2" data-id-status="3" class="btn btn-warning btn-xs btn-flat">Disapprove</button>
                                    <button type="button" onClick="dtCurrentMrf.update_status(this)" name="2nd_approver_2" data-id-status="2" class="btn btn-success btn-xs btn-flat">Approve</button>
                                </div>
                              </td>
                           </tr>
                         </tfoot>
                       </table>
                     </div>

                    <div>
                        <table id="tbl_approver_3" class="table tbl_approver_header_bg">
                        <thead>
                           <tr>
                             <th>Engineering</th>
                           </tr>
                         </thead>
                         <tbody>
                           <tr>
                             <td>
                                <div class="col-md-4"> 
                                  <p><label>Machine/s issued by:</label> <span id="3rd_approve_name"></span></p>
                                  <p><label>Date:</label> <span id="3rd_approve_date"></span></p>
                                </div>
                                  <div class="col-md-8 container-edit-sn">
                                    <div class="box box-success box-solid">
                                      <div class="box-header">
                                        <p class="box-title" style="font-size: 12px">EDIT SERIALNUMBER</p>
                                        <div class="box-tools pull-right">
                                            <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                                            </button>
                                        </div>
                                      </div>
                                        <div class="box-body">
                                            <table id="edit-table-sn" class="table">
                                              <thead>
                                                <tr>
                                                  <th>Quantity</th>
                                                  <th>Brand</th>
                                                  <th>Model</th>
                                                  <th>BN/RF</th>
                                                  <th>S/N</th>
                                                </tr>
                                              </thead>
                                              <tbody></tbody>
                                            </table>
                                        </div>
                                        <div class="box-footer" style="padding: 5px">
                                          <button type="submit" id="btn-edit-sn" class="btn btn-flat btn-info btn-xs pull-right btn-edit-approve">EDIT</button>
                                        </div>
                                      <!-- Loading (remove the following to stop the loading)-->
                                      <!-- <div class="overlay">
                                        <i class="fa fa-refresh fa-spin"></i>
                                      </div> -->
                                    </div>
                                  </div>
                             </td>
                           </tr>
                         </tbody>
                          <tfoot class="tfoot_3rd_approver">
                           <tr>
                             <td> 
                                <div class="text-right">
                                    <button type="button" onClick="dtCurrentMrf.update_status(this)" data-id-status="2" name="3rd_approver" class="btn btn-success btn-xs btn-flat" id="btn_approve_engr">DONE</button>
                                </div>
                              </td>
                           </tr>
                         </tfoot>
                       </table>
                    </div>
                    <div>
                        <table id="tbl_approver_4" class="table tbl_approver_header_bg">
                        <thead>
                           <tr>
                             <th>Accounting</th>
                           </tr>
                         </thead>
                         <tbody>
                           <tr>
                             <td>
                              <div class="row">
                                <div class="col-sm-4">
                                  <p><label>DR Prepared by:</label> <span id="4th_approve_name"></span></p>
                                  <p><label>Date:</label> <span id="4th_approve_date"></span></p>
                                </div>
                                <div class="col-sm-4">
                                  <p><label>DR #:</label> <span><input type="text" name="4th_dr_number" id="4th_dr_number" placeholder="DR Number" class="form-control"></span></p>
                                  <p><label>EDR #:</label><span><input type="text" name="4th_edr_number" id="4th_edr_number" placeholder="EDR Number" class="form-control"></span></p>
                                </div>
                                <div class="col-sm-4">
                                   <p><label>INV #:</label><span><input type="text" name="4th_inv_number" id="4th_inv_number" placeholder="INV Number" class="form-control"></span></p>
                                </div>
                              </div>
                             </td>
                           </tr>
                         </tbody>
                          <tfoot class="tfoot_4th_approver tfoot_4th_approver_2">
                           <tr>
                             <td> 
                                <div class="text-right">                              
                                    <button type="button" name="btn_edit_acc" class="btn btn-info btn-xs btn-flat btn-edit-approve" id="btn_edit_acc" style="display: none;">EDIT</button>
                                    <button type="button" onClick="dtCurrentMrf.update_status(this)" data-id-status="2" name="4th_approver" class="btn btn-success btn-xs btn-flat" id="btn_approve_acc">DONE</button>
                                    <button type="button" onClick="dtCurrentMrf.update_status(this)" data-id-status="2" name="4th_approver_2" class="btn btn-success btn-xs btn-flat">DONE</button>
                                </div>  
                              </td>
                           </tr>
                         </tfoot>
                       </table>
                    </div>
                    <div>
                        <table id="tbl_approver_5" class="table tbl_approver_header_bg">
                        <thead>
                           <tr>
                             <th>Logistics</th>
                           </tr>
                         </thead>
                         <tbody>
                           <tr>
                             <td>
                                <div class="col-md-4">
                                  <div><label>Name:</label> <span id="5th_approve_name"></span></div>
                                  <div><label>Date:</label> <span id="5th_approve_date"></span></div>
                                </div>
                                <div class="col-md-4">
                                  <div><label>Delivery Date:</label> <input type="text" name="5th_delivery_date" id="5th_delivery_date" placeholder="Delivery Date" class="form-control"></div>
                                  <div><label>Received by:</label> <input type="text" name="5th_received_by" id="5th_received_by" placeholder="Received by" class="form-control"></div>                      
                                </div>
                                <div class="col-md-4">
                                  <div><label>Delivered by:</label> <input type="text" name="5th_delivered_by" id="5th_delivered_by" placeholder="Delivered by" class="form-control"></div>                            
                                </div>
                             </td>
                           </tr>
                         </tbody>
                         <tfoot class="tfoot_5th_approver tfoot_5th_approver_2">
                           <tr>
                             <td> 
                                <div class="text-right">
                                    <button type="button" onClick="dtCurrentMrf.update_status(this)" data-id-status="2" name="5th_approver" class="btn btn-success btn-xs btn-flat" id="btn_approve_logic">DONE</button>
                                    <button type="button" onClick="dtCurrentMrf.update_status(this)" data-id-status="2" name="5th_approver_2" class="btn btn-success btn-xs btn-flat" id="btn_approve_logic_2">DONE</button>
                                </div>
                              </td>
                           </tr>
                         </tfoot>
                       </table>
                    </div>    
                </form>
            </div>

            <div role="tabpanel" class="tab-pane fade" id="tab-history">
              <div class="history"></div>
            </div>

          </div><!--end of tab-content-->


        </div>

        <div class="modal-footer">
         <!--  <button type="submit" class="btn btn-sm btn-primary btn-flat" id="btn_save_view_mrf">Save</button> -->
          <div id="details_approver_2_btn" class="details_approver_2_btn col-md-offset-7 col-md-4 col-xs-9">
                <button type="button" onClick="dtCurrentMrf.update_status(this)" name="2nd_approver" data-id-status="3" class="btn btn-warning btn-sm btn-flat">Disapprove</button>
                <button type="button" onClick="dtCurrentMrf.update_status(this)" name="2nd_approver" data-id-status="2" class="btn btn-success btn-sm btn-flat" style="margin-right: 40px;">Approve</button>
                <button type="button" onClick="dtCurrentMrf.update_status(this)" name="2nd_approver_2" data-id-status="3" class="btn btn-warning btn-sm btn-flat">Disapprove</button>
                <button type="button" onClick="dtCurrentMrf.update_status(this)" name="2nd_approver_2" data-id-status="2" class="btn btn-success btn-sm btn-flat" style="margin-right: 40px;">Approve</button>
          </div>
          <div class="col-md-1 pull-right">
            <button type="button" class="btn btn-flat btn-sm btn-danger" data-dismiss="modal">Close</button>
          </div>
        </div>

      </div><!-- end Modal content-->
      
    </div>
  </div>


<!-- Modal View Toner -->
<div id="modalS1ViewToner" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Toner Details</h4>
      </div>
      <div class="modal-body">
         <div class="mrf-table-responsive">
              <table id="tbl_view_s1_toner" class="table"> 
                  <thead>  
                    <tr> 
                      <th> Initial Qty </th>
                      <th> Type </th>
                      <th> Toner Model </th>
                      <th> Price </th>
                      <th> Yield </th>
                    </tr>
                  </thead>
                  <tbody ></tbody>
              </table>
         </div>      
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger btn-flat" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div> <!-- end Modal Toner -->

<!-- Modal View Attachment -->
<div id="modalAttachment" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Attachment</h4>
      </div>
      <div class="modal-body">
          <div class="col-md-12 attachment-download-zip">
              <input type="button" name="download" value="Download all (.zip)"  onClick="fileUpload.downloadZip()" class="btn btn-xs btn-flat btn-success pull-right">
          </div> 
          <div class="container-files col-md-12 col-sm-12"></div>  
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-sm btn-danger btn-flat" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div> <!-- end Modal Attachment -->

<style type="text/css">
  input[type="radio"]:checked{
    width: 15px;
    height: 15px;
  }
  ul.inline > li, ol.inline > li {
      display: block;
      padding-right: 5px;
      padding-left: 5px;
  }
  .tbl_approver_header_bg > thead > tr:nth-child(1) > th{
     background: #00a95b;
     color: #f2f2e9;
  }
  .tbl_approver_header_bg > thead > tr > th{
    text-align: center;
    padding:4px;
  }
  .tbl_approver_header_bg > tfoot > tr > td{
     padding:4px;
  }
  .tbl_approver_header_bg {
    border: 1px solid #ddd;
  }
  /**Hide all table tfoot **/
  #tab-form-approve table tfoot > button{
    display: none;
  }

  #edit-table-sn>tbody>tr>td,  #edit-table-sn>tbody>tr>th,  #edit-table-sn>tfoot>tr>td,  #edit-table-sn>tfoot>tr>th,  #edit-table-sn>thead>tr>td,  #edit-table-sn>thead>tr>th{
    padding: 5px;
  }

</style>
<script type="text/javascript">

//Modal Attachment.
$('#modalAttachment').on('show.bs.modal', function() { 
   var dirname = $(".hdnAttachmentName").val() || '';
   fileUpload.listFiles(dirname,".container-files");
   
});
//When modal hidden addClass.
$('#modalAttachment').on('hidden.bs.modal', function() { 
    $("body").addClass('modal-open'); 
});

//Hack the core of jQuery validator plugin in this page only. This will multi-validate the same input name.
$.extend( $.validator.prototype, { 
      checkForm: function () {
      this.prepareForm();
      for (var i = 0, elements = (this.currentElements = this.elements()); elements[i]; i++) {
        if (this.findByName(elements[i].name).length != undefined && this.findByName(elements[i].name).length > 1) {
            for (var cnt = 0; cnt < this.findByName(elements[i].name).length; cnt++) {
            this.check(this.findByName(elements[i].name)[cnt]);
          }
        } 
        else {
            this.check(elements[i]);
        }
      }
          return this.valid();
      }
  });

  //Validate in editing serialnumber.
   var form_edit_sn = $( "#frmCurrentViewMrf" ); 
       form_edit_sn.validate({ 
        rules: {
          s1_serialnum: { required: true },
        },
        messages: {
          s1_serialnum: { required: "Required"},
        },
        onkeyup: false,
        errorElement: "em",
        errorPlacement: function ( error, element ) {
          // Add the `help-block` class to the error element
          error.addClass( "help-block" ).css('margin-top','0px');
          
              if ( element.prop("type") == "radio") {
                  error.insertAfter( element.parent( "label" ) );
              }
              else if( element.data('chosen') ){
                   error.insertAfter( element.next("div") );
              } 
              else {
                  error.insertAfter( element );
              }

        }
    });

  //Engineering and accounting can edit entry.
  $(".btn-edit-approve").click(function(e){
    var user_type = Cookies.get("user_type");
    var id = $("#hdnIdCurrentViewMrf").val() || null;

    if(user_type == 5 && id != null){ // 5 = engineering
        if(form_edit_sn.valid() == true){ //Validate if field serial has empty.
            dtCurrentMrf.edit_engr(id,$(this));
            return false;
        }
    }
   else if(user_type == 6 && id != null){ // 6 = accounting
      dtCurrentMrf.edit_acc(id,$(this));
   }
   else{ alert('Something went wrong!'); }

  });


  $("#btn_save_view_mrf").click(function(e){
       e.preventDefault();
       $(".pre-list-attachment").empty();
       dtCurrentMrf.updateAttachmentViewRequestForm($(this)); //Upload attachment.
  });
 
  $("#5th_delivery_date").datepicker({dateFormat: 'yy-mm-dd' });
</script>